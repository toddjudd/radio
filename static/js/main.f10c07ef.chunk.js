(this["webpackJsonpradio-operator"]=this["webpackJsonpradio-operator"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),c=a.n(r),o=(a(14),a(8)),s=a(2),i=a(1),p=a(7),u=a.n(p);var m=function(){var e=["island","sonar-hit","sonar-miss"],t=function(e,t){console.log("createGrid ".concat(e," ").concat(t));for(var a=[],n=function(e){a.push(Array.from(Array(t),(function(t,a){return{isIsland:!1,r:e,c:a}})))},l=0;l<e;l++)n(l);return a},a=function(e,t,a){return e.map((function(n,l){return n.map((function(n,l){return n.isIsland?Object(i.a)({},n,{possibleStartPos:!1}):"undefined"===typeof n.possibleStartPos||n.possibleStartPos?t.reduce((function(t,n,l,r){if(0===l&&(console.log("initial reduce - Nulling pathCell"),t.pathCell=null),"undefined"!==typeof t.possibleStartPos&&!t.possibleStartPos)return t;switch(n.action){case"sonar":switch(n.type){case"hit":if(0!==l&&"hit"===r[l-1].type||(t.tmpSonarFirstHit=l),"hit"!==r[l+1].type){var c=Object(s.a)(r).slice(t.tmpSonarFirstHit,l+1);if(t.pathCell){if(!(c.findIndex((function(e){return t.pathCell.r===e.cell.r&&t.pathCell.c===e.cell.c}))+1))return Object(i.a)({},t,{possibleStartPos:!1})}else if(!(c.findIndex((function(e){return t.r===e.cell.r&&t.c===e.cell.c}))+1))return Object(i.a)({},t,{possibleStartPos:!1})}break;case"miss":if(t.pathCell){if(t.pathCell.c===n.cell.c&&t.pathCell.r===n.cell.r)return Object(i.a)({},t,{possibleStartPos:!1})}else if(t.c===n.cell.c&&t.r===n.cell.r)return Object(i.a)({},t,{possibleStartPos:!1})}return t;case"direction":switch(n.type){case"north":if(t.pathCell){if(t.pathCell.r-1<0)return Object(i.a)({},t,{possibleStartPos:!1});t.pathCell=e[t.pathCell.r-1][t.pathCell.c]}else{if(t.r-1<0)return Object(i.a)({},t,{possibleStartPos:!1});t.pathCell=e[t.r-1][t.c]}break;case"south":if(t.pathCell){if(t.pathCell.r+1>=a)return Object(i.a)({},t,{possibleStartPos:!1});t.pathCell=e[t.pathCell.r+1][t.pathCell.c]}else{if(t.r+1>=a)return Object(i.a)({},t,{possibleStartPos:!1});t.pathCell=e[t.r+1][t.c]}break;case"east":t.pathCell?t.pathCell=e[t.pathCell.r][t.pathCell.c+1]:t.pathCell=e[t.r][t.c+1];break;case"west":t.pathCell?t.pathCell=e[t.pathCell.r][t.pathCell.c-1]:t.pathCell=e[t.r][t.c-1]}}return"undefined"===typeof t.pathCell||t.pathCell.isIsland?Object(i.a)({},t,{possibleStartPos:!1}):Object(i.a)({},t,{possibleStartPos:!0})}),n):n}))}))},r=Object(n.useReducer)((function(n,l){switch(l.type){case"init":return{rows:10,columns:10,grid:t(10,10),mapAction:"island",path:[]};case"grid":return console.log("grid"),Object(i.a)({},n,{grid:t(n.rows,n.columns)});case"rows":return Object(i.a)({},n,{rows:l.payload});case"columns":return Object(i.a)({},n,{columns:l.payload});case"toggle-map":return Object(i.a)({},n,{mapAction:e[e.indexOf(n.mapAction)+1===e.length?0:e.indexOf(n.mapAction)+1]});case"island":return console.log("island"),Object(i.a)({},n,{grid:n.grid.map((function(e,t){return e.map((function(e,a){return t===l.payload.r&&a===l.payload.c?Object(i.a)({},e,{isIsland:!e.isIsland}):e}))}))});case"sonar-hit":return Object(i.a)({},n,{path:[].concat(Object(s.a)(n.path),[{action:"sonar",type:"hit",hit:!0,cell:l.payload}])});case"sonar-miss":return Object(i.a)({},n,{path:[].concat(Object(s.a)(n.path),[{action:"sonar",type:"miss",hit:!1,cell:l.payload}])});case"move":var r=a(n.grid,[].concat(Object(s.a)(n.path),[{action:"direction",type:l.payload}]),n.rows),c=[].concat.apply([],r).filter((function(e){return e.possibleStartPos&&e.pathCell})).map((function(e){return e.pathCell})),o=r.map((function(e,t){return e.map((function(e,t){return Object(i.a)({},e,{possibleEndPos:!!(c.findIndex((function(t){return t.r===e.r&&t.c===e.c}))+1)})}))}));return Object(i.a)({},n,{path:[].concat(Object(s.a)(n.path),[{action:"direction",type:l.payload}]),grid:o});case"silent":return console.log("silent"),n;default:return null}}),{rows:10,columns:10,grid:t(10,10),path:[]}),c=Object(o.a)(r,2),p=c[0],m=c[1];return Object(n.useEffect)((function(){m({type:"init"})}),[]),Object(n.useEffect)((function(){m({type:"grid"})}),[p.rows,p.columns]),l.a.createElement("div",{className:"RadioApp"},l.a.createElement("h1",null,"RadioApp"),l.a.createElement("form",{onSubmit:function(e){return e.prevenDefault}},l.a.createElement("label",{htmlFor:"rows"},l.a.createElement("span",{className:"label-content"},"Rows:"),l.a.createElement("input",{type:"number",name:"rows",value:p.rows,onChange:function(e){return m({type:"rows",payload:parseInt(e.target.value)||1})}})),l.a.createElement("label",{htmlFor:"columns"},l.a.createElement("span",{className:"label-content"},"Columns:"),l.a.createElement("input",{type:"number",name:"columns",value:p.columns,onChange:function(e){return m({type:"columns",payload:parseInt(e.target.value)||1})}})),l.a.createElement("label",{htmlFor:"none"},l.a.createElement("span",{className:"label-content"},"Toggle Map Input:"),l.a.createElement("button",{type:"button",onClick:function(){return m({type:"toggle-map"})}},p.mapAction&&p.mapAction.split("-").map((function(e){return"string"!==typeof(t=e)?t:t.charAt(0).toUpperCase()+t.slice(1);var t})).join(" ")))),l.a.createElement("div",{className:"map",style:{gridTemplateColumns:"repeat(".concat(p.columns,", min-content)"),gridTemplateRows:"repeat(".concat(p.rows,", min-content)")}},p.grid.map((function(e,t){return e.map((function(e,a){return l.a.createElement("div",{key:"".concat(t,"-").concat(a),className:u()({cell:!0,island:e.isIsland,startPos:e.possibleStartPos,endPos:e.possibleEndPos}),onClick:function(){console.log("click"),m({type:p.mapAction,payload:{r:t,c:a}})}},l.a.createElement("i",{className:"fas fa-ship"}))}))}))),l.a.createElement("div",{className:"compass"},l.a.createElement("button",{className:"north",onClick:function(){return m({type:"move",payload:"north"})},type:"button"},l.a.createElement("i",{className:"fas fa-arrow-up"})),l.a.createElement("button",{className:"east",onClick:function(){return m({type:"move",payload:"east"})},type:"button"},l.a.createElement("i",{className:"fas fa-arrow-right"})),l.a.createElement("button",{className:"south",onClick:function(){return m({type:"move",payload:"south"})},type:"button"},l.a.createElement("i",{className:"fas fa-arrow-down"})),l.a.createElement("button",{className:"west",onClick:function(){return m({type:"move",payload:"west"})},type:"button"},l.a.createElement("i",{className:"fas fa-arrow-left"})),l.a.createElement("button",{className:"surface",onClick:function(){return m({type:"move",payload:"surface"})},type:"button"},"Surface"),l.a.createElement("button",{className:"silent",onClick:function(){return m({type:"silent"})},type:"button",disabled:!0},"Silent")),l.a.createElement("div",{className:"log"},p.path.map((function(e,t){return l.a.createElement("div",{className:"log-entry",key:t},l.a.createElement("span",{className:"action"},e.action," "),l.a.createElement("span",{className:"type"},e.type," "),e.cell?l.a.createElement("span",{className:"sonar-cell"},e.cell.r,"-",e.cell.c):null)}))))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(m,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.f10c07ef.chunk.js.map